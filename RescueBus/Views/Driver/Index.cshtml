@model IEnumerable<RescueBus.Models.Driver>
@using RescueBus.Models
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            IMAGE
        </th>
        <th>
            FIRST NAME
        </th>
        <th>
            LAST NAME
        </th>
        <th>
            PHONE NUMBER
        </th>
        <th>
            SERVICE
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.ImagePath)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.FirstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.LastName)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.PhoneNumber)
        </td>
        <td>
            @(ServiceRepository.Services.FirstOrDefault(s => s.ServiceID == item.ServiceID)?.Name)
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id = item.DriverID }, new { @class = "btn btn-warning" })

            @Html.ActionLink("Delete", "Delete", new { id = item.DriverID }, new { @class = "btn btn-danger" })
        </td>
    </tr>
}

</table>
